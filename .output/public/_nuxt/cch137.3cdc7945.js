import{U as W,C as G,I as H,d as ne,t as le,E as se}from"./el-input.32611ad1.js";import{u as ie,a as ce,b as re,c as ue,d as de,_ as ve,E as me}from"./el-button.c8d4247c.js";import{b as pe,i as q,a as fe,e as M,f as L,h as $,j as te,k as he,l as ye,m as k,r as y,p as _e,w as F,q as be,o as s,s as f,t as d,u as a,v as u,x as Ce,c as C,y as h,z as x,E as A,A as m,B as O,C as p,D as ge,F as J,G as ke,H as we,I as Ve,J as R,K as Se,L as Be,M as Ee,N as K,O as Y}from"./entry.c868c608.js";import{i as Ie,E as Ne,a as Te}from"./el-select.d9fbfa93.js";import{_ as Pe}from"./nuxt-link.9c2a504f.js";import{u as Ae}from"./useTitle.3eaaf779.js";const De=pe({modelValue:{type:[Boolean,String,Number],default:!1},value:{type:[Boolean,String,Number],default:!1},disabled:{type:Boolean,default:!1},width:{type:[String,Number],default:""},inlinePrompt:{type:Boolean,default:!1},activeIcon:{type:q},inactiveIcon:{type:q},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeColor:{type:String,default:""},inactiveColor:{type:String,default:""},borderColor:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},id:String,loading:{type:Boolean,default:!1},beforeChange:{type:fe(Function)},size:{type:String,validator:Ie},tabindex:{type:[String,Number]}}),Me={[W]:n=>M(n)||L(n)||$(n),[G]:n=>M(n)||L(n)||$(n),[H]:n=>M(n)||L(n)||$(n)},Oe=["onClick"],Ue=["id","aria-checked","aria-disabled","name","true-value","false-value","disabled","tabindex","onKeydown"],ze=["aria-hidden"],Le=["aria-hidden"],$e=["aria-hidden"],Q="ElSwitch",Fe=te({name:Q}),xe=te({...Fe,props:De,emits:Me,setup(n,{expose:w,emit:v}){const t=n,r=he(),{formItem:i}=ie(),B=ce(),o=ye("switch");re({from:'"value"',replacement:'"model-value" or "v-model"',scope:Q,version:"2.3.0",ref:"https://element-plus.org/en-US/component/switch.html#attributes",type:"Attribute"},k(()=>{var e;return!!((e=r.vnode.props)!=null&&e.value)}));const{inputId:I}=ue(t,{formItemContext:i}),V=de(k(()=>t.loading)),E=y(t.modelValue!==!1),_=y(),b=y(),U=k(()=>[o.b(),o.m(B.value),o.is("disabled",V.value),o.is("checked",l.value)]),N=k(()=>({width:_e(t.width)}));F(()=>t.modelValue,()=>{E.value=!0}),F(()=>t.value,()=>{E.value=!1});const T=k(()=>E.value?t.modelValue:t.value),l=k(()=>T.value===t.activeValue);[t.activeValue,t.inactiveValue].includes(T.value)||(v(W,t.inactiveValue),v(G,t.inactiveValue),v(H,t.inactiveValue)),F(l,e=>{var c;_.value.checked=e,t.validateEvent&&((c=i==null?void 0:i.validate)==null||c.call(i,"change").catch(oe=>ne()))});const S=()=>{const e=l.value?t.inactiveValue:t.activeValue;v(W,e),v(G,e),v(H,e),Ve(()=>{_.value.checked=l.value})},P=()=>{if(V.value)return;const{beforeChange:e}=t;if(!e){S();return}const c=e();[R(c),M(c)].includes(!0)||le(Q,"beforeChange must return type `Promise<boolean>` or `boolean`"),R(c)?c.then(j=>{j&&S()}).catch(j=>{}):c&&S()},z=k(()=>o.cssVarBlock({...t.activeColor?{"on-color":t.activeColor}:null,...t.inactiveColor?{"off-color":t.inactiveColor}:null,...t.borderColor?{"border-color":t.borderColor}:null})),g=()=>{var e,c;(c=(e=_.value)==null?void 0:e.focus)==null||c.call(e)};return be(()=>{_.value.checked=l.value}),w({focus:g,checked:l}),(e,c)=>(s(),f("div",{class:u(a(U)),style:J(a(z)),onClick:ke(P,["prevent"])},[d("input",{id:a(I),ref_key:"input",ref:_,class:u(a(o).e("input")),type:"checkbox",role:"switch","aria-checked":a(l),"aria-disabled":a(V),name:e.name,"true-value":e.activeValue,"false-value":e.inactiveValue,disabled:a(V),tabindex:e.tabindex,onChange:S,onKeydown:Ce(P,["enter"])},null,42,Ue),!e.inlinePrompt&&(e.inactiveIcon||e.inactiveText)?(s(),f("span",{key:0,class:u([a(o).e("label"),a(o).em("label","left"),a(o).is("active",!a(l))])},[e.inactiveIcon?(s(),C(a(A),{key:0},{default:h(()=>[(s(),C(x(e.inactiveIcon)))]),_:1})):m("v-if",!0),!e.inactiveIcon&&e.inactiveText?(s(),f("span",{key:1,"aria-hidden":a(l)},O(e.inactiveText),9,ze)):m("v-if",!0)],2)):m("v-if",!0),d("span",{ref_key:"core",ref:b,class:u(a(o).e("core")),style:J(a(N))},[e.inlinePrompt?(s(),f("div",{key:0,class:u(a(o).e("inner"))},[e.activeIcon||e.inactiveIcon?(s(),C(a(A),{key:0,class:u(a(o).is("icon"))},{default:h(()=>[(s(),C(x(a(l)?e.activeIcon:e.inactiveIcon)))]),_:1},8,["class"])):e.activeText||e.inactiveText?(s(),f("span",{key:1,class:u(a(o).is("text")),"aria-hidden":!a(l)},O(a(l)?e.activeText:e.inactiveText),11,Le)):m("v-if",!0)],2)):m("v-if",!0),d("div",{class:u(a(o).e("action"))},[e.loading?(s(),C(a(A),{key:0,class:u(a(o).is("loading"))},{default:h(()=>[p(a(ge))]),_:1},8,["class"])):m("v-if",!0)],2)],6),!e.inlinePrompt&&(e.activeIcon||e.activeText)?(s(),f("span",{key:1,class:u([a(o).e("label"),a(o).em("label","right"),a(o).is("active",a(l))])},[e.activeIcon?(s(),C(a(A),{key:0},{default:h(()=>[(s(),C(x(e.activeIcon)))]),_:1})):m("v-if",!0),!e.activeIcon&&e.activeText?(s(),f("span",{key:1,"aria-hidden":!a(l)},O(e.activeText),9,$e)):m("v-if",!0)],2)):m("v-if",!0)],14,Oe))}});var Ke=we(xe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/switch/src/switch.vue"]]);const We=Se(Ke);const X=y(!1),D=y(""),Z="m",ee=y(!1),ae=y("");function Ge(){const n=Be();D.value=n.get(Z)||"";const w=()=>{n.set(Z,D.value,{path:"/",secure:!0,sameSite:!0})};return{haveAccess:X,dcBotConnected:ee,mdbConnectMethod:ae,adminAction:(t,r)=>{r&&(r.value=!0),w(),$fetch("/api/admin",{method:"POST",body:{passwd:D.value,action:t}}).then(i=>{X.value=!!(i!=null&&i.pass),i!==null&&(ee.value=i.dcBotConnected,ae.value=i.mdbConnectMethod)}).finally(()=>{r&&(r.value=!1)})},password:D}}const He={class:"flex-col flex-center gap-2"},Qe={class:"flex gap-2 my-8"},je={key:0,class:"grid grid-cols-2 p-4"},qe=d("div",{class:"flex items-center"},"Discord Bot",-1),Je=d("div",{class:"flex items-center"},"MindsDB Connect Method",-1),Re={key:1},oa={__name:"cch137",setup(n){const w=Ee("appName").value,{haveAccess:v,password:t,dcBotConnected:r,mdbConnectMethod:i,adminAction:B}=Ge(),o=y(!1),I=y(!1),V=()=>{B(r.value?"DC1":"DC0",o)},E=_=>{B(_==="WEB"?"WEBCONN":"SQLCONN",I)};return Ae(`Admin - ${w}`),(_,b)=>{const U=se,N=me,T=We,l=Ne,S=Te,P=Pe,z=ve;return s(),C(z,null,{default:h(()=>[d("div",He,[d("h1",null,"Admin Dashboard | "+O(a(w)),1),d("div",Qe,[p(U,{type:"password",placeholder:"Password",modelValue:a(t),"onUpdate:modelValue":b[0]||(b[0]=g=>K(t)?t.value=g:null)},null,8,["modelValue"]),p(N,{type:"primary",onClick:a(B)},{default:h(()=>[Y("GO")]),_:1},8,["onClick"])]),a(v)?(s(),f("div",je,[qe,d("div",null,[p(T,{size:"large",modelValue:a(r),"onUpdate:modelValue":b[1]||(b[1]=g=>K(r)?r.value=g:null),loading:a(o),onClick:V},null,8,["modelValue","loading"])]),Je,p(S,{modelValue:a(i),"onUpdate:modelValue":b[2]||(b[2]=g=>K(i)?i.value=g:null),loading:a(I),onChange:E},{default:h(()=>[p(l,{label:"SQL",value:"SQL"}),p(l,{label:"WEB",value:"WEB"})]),_:1},8,["modelValue","loading"])])):(s(),f("div",Re,"You do not have permission.")),d("div",null,[p(P,{to:"/"},{default:h(()=>[p(N,null,{default:h(()=>[Y(" Back to Home ")]),_:1})]),_:1})])])]),_:1})}}};export{oa as default};
