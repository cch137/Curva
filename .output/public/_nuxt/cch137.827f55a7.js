import{U as W,C as x,I as G,d as oe,t as ne,E as se}from"./el-input.c10d2bbb.js";import{u as le,a as ie,b as ce,c as re,d as de,_ as ue,E as ve}from"./el-button.a0321436.js";import{b as pe,i as j,a as me,e as D,f as z,h as $,j as ee,k as fe,l as he,m as _,r as f,p as ye,w as L,q as be,o as l,s as p,t as m,u as a,v as d,x as Ce,c as b,y as k,z as F,E as P,A as v,B as O,C as g,D as _e,F as q,G as ge,H as ke,I as we,J,K as Ve,L as Se,M as Ee,N as K,O as Be}from"./entry.1aa6565f.js";import{i as Ie,E as Ne,a as Te}from"./el-select.0e7c1234.js";import{u as Pe}from"./useTitle.4edc462f.js";const Ae=pe({modelValue:{type:[Boolean,String,Number],default:!1},value:{type:[Boolean,String,Number],default:!1},disabled:{type:Boolean,default:!1},width:{type:[String,Number],default:""},inlinePrompt:{type:Boolean,default:!1},activeIcon:{type:j},inactiveIcon:{type:j},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeColor:{type:String,default:""},inactiveColor:{type:String,default:""},borderColor:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},id:String,loading:{type:Boolean,default:!1},beforeChange:{type:me(Function)},size:{type:String,validator:Ie},tabindex:{type:[String,Number]}}),De={[W]:n=>D(n)||z(n)||$(n),[x]:n=>D(n)||z(n)||$(n),[G]:n=>D(n)||z(n)||$(n)},Oe=["onClick"],Me=["id","aria-checked","aria-disabled","name","true-value","false-value","disabled","tabindex","onKeydown"],Ue=["aria-hidden"],ze=["aria-hidden"],$e=["aria-hidden"],Q="ElSwitch",Le=ee({name:Q}),Fe=ee({...Le,props:Ae,emits:De,setup(n,{expose:w,emit:u}){const t=n,r=fe(),{formItem:i}=le(),E=ie(),o=he("switch");ce({from:'"value"',replacement:'"model-value" or "v-model"',scope:Q,version:"2.3.0",ref:"https://element-plus.org/en-US/component/switch.html#attributes",type:"Attribute"},_(()=>{var e;return!!((e=r.vnode.props)!=null&&e.value)}));const{inputId:I}=re(t,{formItemContext:i}),V=de(_(()=>t.loading)),B=f(t.modelValue!==!1),h=f(),y=f(),M=_(()=>[o.b(),o.m(E.value),o.is("disabled",V.value),o.is("checked",s.value)]),U=_(()=>({width:ye(t.width)}));L(()=>t.modelValue,()=>{B.value=!0}),L(()=>t.value,()=>{B.value=!1});const N=_(()=>B.value?t.modelValue:t.value),s=_(()=>N.value===t.activeValue);[t.activeValue,t.inactiveValue].includes(N.value)||(u(W,t.inactiveValue),u(x,t.inactiveValue),u(G,t.inactiveValue)),L(s,e=>{var c;h.value.checked=e,t.validateEvent&&((c=i==null?void 0:i.validate)==null||c.call(i,"change").catch(te=>oe()))});const S=()=>{const e=s.value?t.inactiveValue:t.activeValue;u(W,e),u(x,e),u(G,e),we(()=>{h.value.checked=s.value})},T=()=>{if(V.value)return;const{beforeChange:e}=t;if(!e){S();return}const c=e();[J(c),D(c)].includes(!0)||ne(Q,"beforeChange must return type `Promise<boolean>` or `boolean`"),J(c)?c.then(H=>{H&&S()}).catch(H=>{}):c&&S()},C=_(()=>o.cssVarBlock({...t.activeColor?{"on-color":t.activeColor}:null,...t.inactiveColor?{"off-color":t.inactiveColor}:null,...t.borderColor?{"border-color":t.borderColor}:null})),ae=()=>{var e,c;(c=(e=h.value)==null?void 0:e.focus)==null||c.call(e)};return be(()=>{h.value.checked=s.value}),w({focus:ae,checked:s}),(e,c)=>(l(),p("div",{class:d(a(M)),style:q(a(C)),onClick:ge(T,["prevent"])},[m("input",{id:a(I),ref_key:"input",ref:h,class:d(a(o).e("input")),type:"checkbox",role:"switch","aria-checked":a(s),"aria-disabled":a(V),name:e.name,"true-value":e.activeValue,"false-value":e.inactiveValue,disabled:a(V),tabindex:e.tabindex,onChange:S,onKeydown:Ce(T,["enter"])},null,42,Me),!e.inlinePrompt&&(e.inactiveIcon||e.inactiveText)?(l(),p("span",{key:0,class:d([a(o).e("label"),a(o).em("label","left"),a(o).is("active",!a(s))])},[e.inactiveIcon?(l(),b(a(P),{key:0},{default:k(()=>[(l(),b(F(e.inactiveIcon)))]),_:1})):v("v-if",!0),!e.inactiveIcon&&e.inactiveText?(l(),p("span",{key:1,"aria-hidden":a(s)},O(e.inactiveText),9,Ue)):v("v-if",!0)],2)):v("v-if",!0),m("span",{ref_key:"core",ref:y,class:d(a(o).e("core")),style:q(a(U))},[e.inlinePrompt?(l(),p("div",{key:0,class:d(a(o).e("inner"))},[e.activeIcon||e.inactiveIcon?(l(),b(a(P),{key:0,class:d(a(o).is("icon"))},{default:k(()=>[(l(),b(F(a(s)?e.activeIcon:e.inactiveIcon)))]),_:1},8,["class"])):e.activeText||e.inactiveText?(l(),p("span",{key:1,class:d(a(o).is("text")),"aria-hidden":!a(s)},O(a(s)?e.activeText:e.inactiveText),11,ze)):v("v-if",!0)],2)):v("v-if",!0),m("div",{class:d(a(o).e("action"))},[e.loading?(l(),b(a(P),{key:0,class:d(a(o).is("loading"))},{default:k(()=>[g(a(_e))]),_:1},8,["class"])):v("v-if",!0)],2)],6),!e.inlinePrompt&&(e.activeIcon||e.activeText)?(l(),p("span",{key:1,class:d([a(o).e("label"),a(o).em("label","right"),a(o).is("active",a(s))])},[e.activeIcon?(l(),b(a(P),{key:0},{default:k(()=>[(l(),b(F(e.activeIcon)))]),_:1})):v("v-if",!0),!e.activeIcon&&e.activeText?(l(),p("span",{key:1,"aria-hidden":!a(s)},O(e.activeText),9,$e)):v("v-if",!0)],2)):v("v-if",!0)],14,Oe))}});var Ke=ke(Fe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/switch/src/switch.vue"]]);const We=Ve(Ke);const R=f(!1),A=f(""),Y="m",X=f(!1),Z=f("");function xe(){const n=Se();A.value=n.get(Y)||"";const w=()=>{n.set(Y,A.value,{path:"/",secure:!0,sameSite:!0,httpOnly:!0})};return{haveAccess:R,dcBotConnected:X,mdbConnectMethod:Z,adminAction:(t,r)=>{r&&(r.value=!0),w(),$fetch("/api/admin",{method:"POST",body:{passwd:A.value,action:t}}).then(i=>{R.value=!!(i!=null&&i.pass),i!==null&&(X.value=i.dcBotConnected,Z.value=i.mdbConnectMethod)}).finally(()=>{r&&(r.value=!1)})},password:A}}const Ge={class:"flex-col flex-center gap-2"},Qe={class:"flex gap-2 my-8"},He={key:0,class:"grid grid-cols-2 p-4"},je=m("div",{class:"flex items-center"},"Discord Bot",-1),qe=m("div",{class:"flex items-center"},"MindsDB Connect Method",-1),Je={key:1},aa={__name:"cch137",setup(n){const w=Ee("appName").value,{haveAccess:u,password:t,dcBotConnected:r,mdbConnectMethod:i,adminAction:E}=xe(),o=f(!1),I=f(!1),V=()=>{E(r.value?"DC1":"DC0",o)},B=h=>{E(h==="WEB"?"WEBCONN":"SQLCONN",I)};return Pe(`Admin - ${w}`),(h,y)=>{const M=se,U=ve,N=We,s=Ne,S=Te,T=ue;return l(),b(T,null,{default:k(()=>[m("div",Ge,[m("h1",null,"Admin Dashboard | "+O(a(w)),1),m("div",Qe,[g(M,{type:"password",placeholder:"Password",modelValue:a(t),"onUpdate:modelValue":y[0]||(y[0]=C=>K(t)?t.value=C:null)},null,8,["modelValue"]),g(U,{type:"primary",onClick:a(E)},{default:k(()=>[Be("GO")]),_:1},8,["onClick"])]),a(u)?(l(),p("div",He,[je,m("div",null,[g(N,{size:"large",modelValue:a(r),"onUpdate:modelValue":y[1]||(y[1]=C=>K(r)?r.value=C:null),loading:a(o),onClick:V},null,8,["modelValue","loading"])]),qe,g(S,{modelValue:a(i),"onUpdate:modelValue":y[2]||(y[2]=C=>K(i)?i.value=C:null),loading:a(I),onChange:B},{default:k(()=>[g(s,{label:"SQL",value:"SQL"}),g(s,{label:"WEB",value:"WEB"})]),_:1},8,["modelValue","loading"])])):(l(),p("div",Je,"You do not have permission."))])]),_:1})}}};export{aa as default};
