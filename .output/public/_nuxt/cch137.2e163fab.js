import{U as W,C as G,I as H,d as ne,t as se,E as le}from"./el-input.83b0333e.js";import{u as ie,a as ce,b as re,c as de,d as ue,_ as ve,E as me}from"./el-button.42ddaacd.js";import{b as pe,i as q,a as fe,e as D,f as z,h as $,j as te,k as he,l as _e,m as k,r as p,p as ye,w as x,q as Ce,o as i,s as _,t as r,u as a,v as u,x as be,c as C,y as m,z as F,E as P,A as h,B as M,C as v,D as ge,F as J,G as ke,H as we,I as Se,J as Y,K as Ve,L as Ee,M as Be,N as R,O as K}from"./entry.ae0f751e.js";import{i as Ie,E as Ne,a as Te}from"./el-select.795f2a35.js";import{_ as Pe}from"./nuxt-link.ee5606eb.js";import{u as Ae}from"./useTitle.eec823e1.js";const De=pe({modelValue:{type:[Boolean,String,Number],default:!1},value:{type:[Boolean,String,Number],default:!1},disabled:{type:Boolean,default:!1},width:{type:[String,Number],default:""},inlinePrompt:{type:Boolean,default:!1},activeIcon:{type:q},inactiveIcon:{type:q},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeColor:{type:String,default:""},inactiveColor:{type:String,default:""},borderColor:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},id:String,loading:{type:Boolean,default:!1},beforeChange:{type:fe(Function)},size:{type:String,validator:Ie},tabindex:{type:[String,Number]}}),Me={[W]:l=>D(l)||z(l)||$(l),[G]:l=>D(l)||z(l)||$(l),[H]:l=>D(l)||z(l)||$(l)},Oe=["onClick"],Le=["id","aria-checked","aria-disabled","name","true-value","false-value","disabled","tabindex","onKeydown"],Ue=["aria-hidden"],ze=["aria-hidden"],$e=["aria-hidden"],Q="ElSwitch",xe=te({name:Q}),Fe=te({...xe,props:De,emits:Me,setup(l,{expose:w,emit:f}){const t=l,d=he(),{formItem:c}=ie(),S=ce(),o=_e("switch");re({from:'"value"',replacement:'"model-value" or "v-model"',scope:Q,version:"2.3.0",ref:"https://element-plus.org/en-US/component/switch.html#attributes",type:"Attribute"},k(()=>{var e;return!!((e=d.vnode.props)!=null&&e.value)}));const{inputId:I}=de(t,{formItemContext:c}),b=ue(k(()=>t.loading)),E=p(t.modelValue!==!1),g=p(),O=p(),N=k(()=>[o.b(),o.m(S.value),o.is("disabled",b.value),o.is("checked",n.value)]),y=k(()=>({width:ye(t.width)}));x(()=>t.modelValue,()=>{E.value=!0}),x(()=>t.value,()=>{E.value=!1});const T=k(()=>E.value?t.modelValue:t.value),n=k(()=>T.value===t.activeValue);[t.activeValue,t.inactiveValue].includes(T.value)||(f(W,t.inactiveValue),f(G,t.inactiveValue),f(H,t.inactiveValue)),x(n,e=>{var s;g.value.checked=e,t.validateEvent&&((s=c==null?void 0:c.validate)==null||s.call(c,"change").catch(oe=>ne()))});const V=()=>{const e=n.value?t.inactiveValue:t.activeValue;f(W,e),f(G,e),f(H,e),Se(()=>{g.value.checked=n.value})},B=()=>{if(b.value)return;const{beforeChange:e}=t;if(!e){V();return}const s=e();[Y(s),D(s)].includes(!0)||se(Q,"beforeChange must return type `Promise<boolean>` or `boolean`"),Y(s)?s.then(j=>{j&&V()}).catch(j=>{}):s&&V()},L=k(()=>o.cssVarBlock({...t.activeColor?{"on-color":t.activeColor}:null,...t.inactiveColor?{"off-color":t.inactiveColor}:null,...t.borderColor?{"border-color":t.borderColor}:null})),U=()=>{var e,s;(s=(e=g.value)==null?void 0:e.focus)==null||s.call(e)};return Ce(()=>{g.value.checked=n.value}),w({focus:U,checked:n}),(e,s)=>(i(),_("div",{class:u(a(N)),style:J(a(L)),onClick:ke(B,["prevent"])},[r("input",{id:a(I),ref_key:"input",ref:g,class:u(a(o).e("input")),type:"checkbox",role:"switch","aria-checked":a(n),"aria-disabled":a(b),name:e.name,"true-value":e.activeValue,"false-value":e.inactiveValue,disabled:a(b),tabindex:e.tabindex,onChange:V,onKeydown:be(B,["enter"])},null,42,Le),!e.inlinePrompt&&(e.inactiveIcon||e.inactiveText)?(i(),_("span",{key:0,class:u([a(o).e("label"),a(o).em("label","left"),a(o).is("active",!a(n))])},[e.inactiveIcon?(i(),C(a(P),{key:0},{default:m(()=>[(i(),C(F(e.inactiveIcon)))]),_:1})):h("v-if",!0),!e.inactiveIcon&&e.inactiveText?(i(),_("span",{key:1,"aria-hidden":a(n)},M(e.inactiveText),9,Ue)):h("v-if",!0)],2)):h("v-if",!0),r("span",{ref_key:"core",ref:O,class:u(a(o).e("core")),style:J(a(y))},[e.inlinePrompt?(i(),_("div",{key:0,class:u(a(o).e("inner"))},[e.activeIcon||e.inactiveIcon?(i(),C(a(P),{key:0,class:u(a(o).is("icon"))},{default:m(()=>[(i(),C(F(a(n)?e.activeIcon:e.inactiveIcon)))]),_:1},8,["class"])):e.activeText||e.inactiveText?(i(),_("span",{key:1,class:u(a(o).is("text")),"aria-hidden":!a(n)},M(a(n)?e.activeText:e.inactiveText),11,ze)):h("v-if",!0)],2)):h("v-if",!0),r("div",{class:u(a(o).e("action"))},[e.loading?(i(),C(a(P),{key:0,class:u(a(o).is("loading"))},{default:m(()=>[v(a(ge))]),_:1},8,["class"])):h("v-if",!0)],2)],6),!e.inlinePrompt&&(e.activeIcon||e.activeText)?(i(),_("span",{key:1,class:u([a(o).e("label"),a(o).em("label","right"),a(o).is("active",a(n))])},[e.activeIcon?(i(),C(a(P),{key:0},{default:m(()=>[(i(),C(F(e.activeIcon)))]),_:1})):h("v-if",!0),!e.activeIcon&&e.activeText?(i(),_("span",{key:1,"aria-hidden":!a(n)},M(e.activeText),9,$e)):h("v-if",!0)],2)):h("v-if",!0)],14,Oe))}});var Re=we(Fe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/switch/src/switch.vue"]]);const Ke=Ve(Re);const X=p(!1),A=p(""),Z="m",ee=p(!1),ae=p("");function We(){const l=Ee();A.value=l.get(Z)||"";const w=()=>{l.set(Z,A.value,{path:"/",secure:!0,sameSite:!0})};return{haveAccess:X,dcBotConnected:ee,mdbConnectMethod:ae,adminAction:(t,d)=>{d&&(d.value=!0),w(),$fetch("/api/admin",{method:"POST",body:{passwd:A.value,action:t}}).then(c=>{X.value=!!(c!=null&&c.pass),c!==null&&(ee.value=c.dcBotConnected,ae.value=c.mdbConnectMethod)}).finally(()=>{d&&(d.value=!1)})},password:A}}const Ge={class:"flex-col flex-center gap-2"},He={class:"flex gap-2 my-8"},Qe={key:0,class:"grid grid-cols-2 gap-2 p-4"},je=r("div",{class:"flex items-center"},"Discord Bot",-1),qe=r("div",{class:"flex items-center"},"MindsDB Connect Method",-1),Je=r("div",{class:"flex items-center"},"Restart Clients",-1),Ye={class:"flex items-center"},Xe={key:1},sa={__name:"cch137",setup(l){const w=Be("appName").value,{haveAccess:f,password:t,dcBotConnected:d,mdbConnectMethod:c,adminAction:S}=We(),o=p(!1),I=p(!1),b=p(!1),E=()=>{S(d.value?"DC1":"DC0",o)},g=N=>{S(N==="WEB"?"WEBCONN":"SQLCONN",I)},O=()=>{S("RESTART",b)};return Ae(`Admin - ${w}`),(N,y)=>{const T=le,n=me,V=Ke,B=Ne,L=Te,U=Pe,e=ve;return i(),C(e,null,{default:m(()=>[r("div",Ge,[r("h1",null,"Admin Dashboard | "+M(a(w)),1),r("div",He,[v(T,{type:"password",placeholder:"Password",modelValue:a(t),"onUpdate:modelValue":y[0]||(y[0]=s=>R(t)?t.value=s:null)},null,8,["modelValue"]),v(n,{type:"primary",onClick:a(S)},{default:m(()=>[K("GO")]),_:1},8,["onClick"])]),a(f)?(i(),_("div",Qe,[je,r("div",null,[v(V,{size:"large",modelValue:a(d),"onUpdate:modelValue":y[1]||(y[1]=s=>R(d)?d.value=s:null),loading:a(o),onClick:E},null,8,["modelValue","loading"])]),qe,v(L,{modelValue:a(c),"onUpdate:modelValue":y[2]||(y[2]=s=>R(c)?c.value=s:null),loading:a(I),onChange:g},{default:m(()=>[v(B,{label:"SQL",value:"SQL"}),v(B,{label:"WEB",value:"WEB"})]),_:1},8,["modelValue","loading"]),Je,r("div",Ye,[v(n,{loading:a(b),onClick:O,class:"w-full"},{default:m(()=>[K("RESTART")]),_:1},8,["loading"])])])):(i(),_("div",Xe,"You do not have permission.")),r("div",null,[v(U,{to:"/"},{default:m(()=>[v(n,null,{default:m(()=>[K(" Back to Home ")]),_:1})]),_:1})])])]),_:1})}}};export{sa as default};
