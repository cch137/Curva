import{E as $}from"./el-input.fe4cbf4a.js";import{E as b,a as k,_ as L}from"./el-form.dcc7fc87.js";import{E as N}from"./el-button.a3dd4029.js";import{E as I}from"./el-text.ae362986.js";import{_ as B}from"./nuxt-link.e2eb7c4c.js";import{E as C}from"./el-link.fd1047b5.js";import{_ as F}from"./client-only.dc5e4c31.js";import{j as q,a3 as z,r as A,S as f,L as R,o as S,c as T,y as t,C as e,t as s,B as p,u as o,N as m,O as W,V as M,a4 as U}from"./entry.273e77a9.js";import{u as j}from"./useAuth.273106a9.js";import{u as D}from"./useTitle.34bebeaa.js";import"./isEqual.bf848271.js";import"./el-select.702218e8.js";import"./el-popper.c8961bee.js";import"./focus-trap.a9ff019a.js";import"./scroll.781215d6.js";import"./useChat.36d48413.js";const P={class:"mt-0 mb-6"},G=s("div",{class:"p-6"},null,-1),H={class:"flex-center"},J=s("div",{class:"p-2"},null,-1),K={class:"flex-center flex-col gap-1"},Q={class:"flex-center gap-1"},X=s("div",{class:"p-8"},null,-1),Y={class:"absolute w-screen flex-center gap-2 p-3",style:{bottom:"0"}},Z={style:{width:"120px"}},xe=q({__name:"login",setup(ee){const{login:g}=j(),i=z().t,_=A(),n=f({usernameOrEmail:"",password:""}),h=f({usernameOrEmail:[{required:!0,message:i("auth.usernameOrEmailRequired"),trigger:"change"}],password:[{required:!0,message:i("auth.passwdRequired"),trigger:"change"}]}),x=async a=>{await a.validate((r,u)=>{r?g(n.usernameOrEmail,n.password):W.error(i("auth.formIncomplete"))})};return D(`${i("auth.login")} - ${R("appName").value}`),(a,r)=>{const u=$,c=b,y=N,d=I,E=B,w=C,v=k,O=L,V=F;return S(),T(V,null,{default:t(()=>[e(v,{ref_key:"ruleFormRef",ref:_,model:o(n),rules:o(h),"label-position":"top",class:"flex-col flex-center w-full max-w-xs px-4 m-auto",style:{height:"calc(100vh - 56px)"}},{default:t(()=>[s("h1",P,p(a.$t("auth.login")),1),e(c,{label:a.$t("auth.usernameOrEmail"),prop:"usernameOrEmail",class:"inputWrapper LoginInputAnim1"},{default:t(()=>[e(u,{modelValue:o(n).usernameOrEmail,"onUpdate:modelValue":r[0]||(r[0]=l=>o(n).usernameOrEmail=l),type:"text",size:"large","prefix-icon":o(M)},null,8,["modelValue","prefix-icon"])]),_:1},8,["label"]),e(c,{label:a.$t("auth.passwd"),prop:"password",class:"inputWrapper LoginInputAnim2 LoginPasswordInputWrapper"},{default:t(()=>[e(u,{modelValue:o(n).password,"onUpdate:modelValue":r[1]||(r[1]=l=>o(n).password=l),type:"password",size:"large","prefix-icon":o(U),formatter:l=>l.trim(),parser:l=>l.trim(),"show-password":""},null,8,["modelValue","prefix-icon","formatter","parser"])]),_:1},8,["label"]),G,s("div",H,[e(y,{size:"large",type:"primary",onClick:r[2]||(r[2]=l=>x(o(_)))},{default:t(()=>[m(p(a.$t("auth.login")),1)]),_:1})]),J,s("div",K,[s("div",Q,[e(d,{type:"info"},{default:t(()=>[m(p(a.$t("auth.createNewAcc")),1)]),_:1}),e(w,{type:"primary"},{default:t(()=>[e(E,{to:"/signup"},{default:t(()=>[m(p(a.$t("auth.signup")),1)]),_:1})]),_:1})])]),X]),_:1},8,["model","rules"]),s("div",Y,[e(d,{type:"info",class:"opacity-75"},{default:t(()=>[m("More languages:")]),_:1}),s("span",Z,[e(O,{size:"small"})])])]),_:1})}}});export{xe as default};
